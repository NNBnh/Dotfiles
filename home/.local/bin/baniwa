#!/bin/sh

#    ___            _
#   / _ )___ ____  (_)    _____ _
#  / _  / _ `/ _ \/ / |/|/ / _ `/
# /____/\_,_/_//_/_/|__,__/\_,_/
#

# File:         baniwa
# Description:  Script for hackerman
#               ( fork from animwall https://github.com/pyamsoft/animwall )
# Author:       NNB
#               └─ https://github.com/NNBnh
#               pyamsoft (creator of animwall)
#               └─ https://github.com/pyamsoft
# License:      GPLv3

#    This program is free software: you can redistribute it and/or modify
#    it under the terms of the GNU General Public License as published by
#    the Free Software Foundation, either version 3 of the License, or
#    (at your option) any later version.
#
#    This program is distributed in the hope that it will be useful,
#    but WITHOUT ANY WARRANTY; without even the implied warranty of
#    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
#    GNU General Public License for more details.
#
#    You should have received a copy of the GNU General Public License
#    along with this program.  If not, see <https://www.gnu.org/licenses/>.


# Values
wallpaper=$1
nice_var=${2:-'19'}
monitor=${3:-"$(xrandr | grep "\*\+" | sed -e "s/^ *//g" -e "s/ .*//g")+0+0"}


# Start
nice -n $nice_var xwinwrap \
	-ni \
	-un \
	-st \
	-fdt \
	-sp \
	-nf \
	-b \
	-g $monitor \
-- nice -n $nice_var mpv \
	-wid WID $wallpaper \
	--geometry=$monitor \
	--no-osc \
	--no-osd-bar \
	--loop-file \
	--player-operation-mode=cplayer \
	--no-audio \
	--panscan=1.0 \
	--no-keepaspect \
	--no-input-default-bindings \
	--hwdec


exit
